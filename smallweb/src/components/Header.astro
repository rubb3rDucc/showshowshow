---
const appUrl = import.meta.env.PUBLIC_APP_URL || 'https://app.showshowshow.app';
const loginUrl = `${appUrl}/login`;
const registerUrl = `${appUrl}/register?trial=true`;
---

<header class="sticky top-0 z-50 bg-white border-b-4 border-black shadow-hard">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-16">
    <div class="flex items-center justify-between h-12 md:h-14">
      {/* Logo */}
      <a href="/" class="flex items-center gap-1.5 group">
        <div class="bg-black text-pastel-mint px-2 py-0.5 font-black text-xs md:text-sm border-2 border-black transform group-hover:rotate-1 transition-transform">
          SSS
        </div>
        <span class="font-black text-sm md:text-base uppercase tracking-tight hidden sm:block">
          ShowShowShow
        </span>
      </a>

      {/* Desktop Navigation */}
      <div class="hidden md:flex items-center gap-4">
        <a
          href="#core-features"
          class="font-bold text-xs uppercase hover:bg-pastel-mint hover:text-black px-2 py-1 transition-colors"
        >
          Core Features
        </a>
        <a
          href="#pricing"
          class="font-bold text-xs uppercase hover:bg-pastel-pink hover:text-black px-2 py-1 transition-colors"
        >
          Pricing
        </a>
        <a
          href="#faq"
          class="font-bold text-xs uppercase hover:bg-pastel-blue hover:text-black px-2 py-1 transition-colors"
        >
          FAQ
        </a>
        <div class="h-4 w-1 bg-black"></div>
        <a
          href={loginUrl}
          class="font-bold text-xs uppercase border-2 border-black px-3 py-1.5 hover:bg-black hover:text-white transition-colors"
        >
          Login
        </a>
        <a
          href="#waitlist"
          class="font-bold text-xs uppercase bg-black text-white px-3 py-1.5 hover:bg-pastel-mint hover:text-black transition-colors border-2 border-black"
        >
          Join Waitlist
        </a>
      </div>

      {/* Mobile Menu Button */}
      <button
        id="mobile-menu-btn"
        class="md:hidden bg-black text-white p-1.5 border-2 border-black hover:bg-pastel-mint hover:text-black transition-colors"
        aria-label="Toggle menu"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    {/* Mobile Menu */}
    <div
      id="mobile-menu"
      class="hidden md:hidden pb-4 border-t-4 border-black mt-2"
    >
      <div class="flex flex-col gap-2 pt-3">
        <a
          href="#core-features"
          class="font-bold text-xs uppercase hover:bg-pastel-mint hover:text-black px-2 py-1.5 transition-colors border-l-4 border-transparent hover:border-black"
        >
          Core Features
        </a>
        <a
          href="#pricing"
          class="font-bold text-xs uppercase hover:bg-pastel-pink hover:text-black px-2 py-1.5 transition-colors border-l-4 border-transparent hover:border-black"
        >
          Pricing
        </a>
        <a
          href="#faq"
          class="font-bold text-xs uppercase hover:bg-pastel-blue hover:text-black px-2 py-1.5 transition-colors border-l-4 border-transparent hover:border-black"
        >
          FAQ
        </a>
        <div class="h-px bg-black my-2"></div>
        <a
          href={loginUrl}
          class="font-bold text-xs uppercase border-2 border-black px-3 py-1.5 text-center hover:bg-black hover:text-white transition-colors"
        >
          Login
        </a>
        <a
          href="#waitlist"
          class="font-bold text-xs uppercase bg-black text-white px-3 py-1.5 text-center hover:bg-pastel-mint hover:text-black transition-colors border-2 border-black"
        >
          Join Waitlist
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  // Mobile menu toggle
  const menuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');

  if (menuBtn && mobileMenu) {
    menuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    // Close menu when clicking a link
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach((link) => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
      });
    });
  }

  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener('click', function (e) {
      const href = this.getAttribute('href');
      if (href && href !== '#') {
        e.preventDefault();
        const target = document.querySelector(href);
        if (target) {
          // Header is now h-12 md:h-14 (48px/56px) + border (4px) = ~60px
          const headerOffset = 60;
          const elementPosition = target.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth',
          });
        }
      }
    });
  });
</script>

