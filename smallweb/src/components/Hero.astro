---
const appUrl = import.meta.env.PUBLIC_APP_URL || 'https://app.showshowshow.com';
const registerUrl = `${appUrl}/register?trial=true`;
---

<section class="relative min-h-screen flex flex-col justify-center items-center pt-20 pb-16 overflow-hidden bg-brutal-gray border-b-8 border-black">
  {/* Background Elements */}
  <div class="absolute inset-0 z-0">
    {/* Diagonal Split */}
    <div class="absolute top-0 left-0 w-full h-full bg-pastel-mint opacity-20" style="clip-path: polygon(0 0, 60% 0, 40% 100%, 0% 100%);"></div>
    <div class="absolute top-0 right-0 w-2/3 h-full bg-pastel-pink opacity-20" style="clip-path: polygon(20% 0, 100% 0, 100% 100%, 0% 100%);"></div>

    {/* Floating Geometric Shapes */}
    <div class="absolute top-20 left-10 w-32 h-32 bg-pastel-yellow border-4 border-black rotate-12 shadow-hard"></div>
    <div class="absolute bottom-40 right-10 w-48 h-48 bg-pastel-blue border-4 border-black -rotate-6 shadow-hard z-10"></div>
    <div class="absolute top-1/2 left-1/4 w-64 h-8 bg-black rotate-45 opacity-10"></div>
  </div>

  {/* QR Code Decoration */}
  <div class="absolute top-10 right-10 w-24 h-24 border-4 border-black bg-white p-2 z-20 hidden md:block rotate-3">
    <div
      class="w-full h-full bg-black opacity-80"
      style="mask-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNSAyNSI+PHBhdGggZD0iTTAgMGg3djdIMHptMiAyaDN2M0gyem0tMiA3aDd2N0gwem0yIDJoM3YzSDJ6bTctOWgxdjFIOXptMiAwaDN2M2gtM3ptLTIgMmgxdjFoLTF6bTUtMmgydjJoLTJ6bS01IDVoMXYxaC0xem0yIDBoMnYyaC0yem0tNSAzaDF2MWgtMXptMiAwaDN2M2gtM3ptLTUgMmgxdjFoLTF6bTUgMmgxdjFoLTF6bS01IDJoN3Y3SDB6bTIgMmgM3YzSDJ6bTctOWgydjJoLTJ6bTMgMmgydjJoLTJ6bS0zIDNoMnYyaC0yem01IDJoMnYyaC0yem0tNSAzaDN2M2gtM3ptMyAwaDJ2MmgtMnoiLz48L3N2Zz4'); mask-size: contain; mask-repeat: no-repeat;"
    ></div>
  </div>

  <div class="relative z-10 max-w-7xl mx-auto w-full px-4">
    {/* Header Content */}
    <div class="flex flex-col items-center text-center mb-16">
      <div class="inline-block bg-black text-pastel-mint px-4 py-2 font-bold text-sm md:text-lg border-4 border-black shadow-hard mb-8 rotate-2">
        <span class="animate-pulse mr-2">â–ˆ</span>
        BETA_ACCESS_GRANTED
      </div>

      <h1 class="text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-black tracking-tight mb-6 leading-tight uppercase relative">
        <span class="block bg-white border-4 border-black px-4 py-2 shadow-hard transform -rotate-1 mb-4">
          YOU CHOOSE WHAT.
        </span>
        <span class="block bg-pastel-yellow border-4 border-black px-4 py-2 shadow-hard transform rotate-1">
          YOU CHOOSE HOW.
        </span>
      </h1>

      <p class="text-base sm:text-lg md:text-2xl font-bold bg-white border-4 border-black p-4 shadow-hard max-w-2xl mx-auto mb-10 transform -rotate-1">
        <span class="bg-pastel-pink px-1">NO ALGORITHMS.</span>{' '}
        <span class="bg-pastel-blue px-1">NO SOCIAL NOISE.</span>
        <br />
        JUST RAW, UNFILTERED CONTROL.
      </p>

      <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
        <a
          href={registerUrl}
          class="bg-white text-black font-mono font-bold text-lg md:text-xl border-4 border-black hover:bg-pastel-yellow transition-all shadow-hard hover:shadow-none hover:translate-x-2 hover:translate-y-2 uppercase h-14 md:h-16 px-6 md:px-8 w-full sm:w-auto flex items-center justify-center"
        >
          Start Free Trial
        </a>
        <button
          id="how-it-works-btn"
          class="bg-white text-black font-mono font-bold text-lg md:text-xl border-4 border-black hover:bg-pastel-yellow transition-all shadow-hard hover:shadow-none hover:translate-x-2 hover:translate-y-2 uppercase h-14 md:h-16 px-6 md:px-8 w-full sm:w-auto"
        >
          How It Works
        </button>
      </div>
    </div>

    {/* Visual Demo - Brutalist Split */}
    <div class="relative max-w-6xl mx-auto w-full grid grid-cols-1 md:grid-cols-2 gap-0 border-4 border-black shadow-hard bg-white">
      {/* Left: Manual Control */}
      <div class="bg-pastel-mint p-6 border-b-4 md:border-b-0 md:border-r-4 border-black relative overflow-hidden group">
        <div class="absolute top-0 right-0 bg-black text-white px-2 py-1 text-xs font-bold font-mono">
          MANUAL_OVERRIDE
        </div>
        <div class="flex items-center gap-2 mb-6 border-b-4 border-black pb-4">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          <span class="font-black text-lg md:text-xl">
            QUEUE_CONTROLLER
          </span>
        </div>

        <div class="space-y-4">
          <div class="bg-white border-4 border-black p-4 shadow-hard-sm hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all cursor-grab active:cursor-grabbing">
            <div class="flex justify-between items-center">
              <span class="font-bold text-sm md:text-base">
                EPISODE_01
              </span>
              <div class="flex gap-1">
                <div class="w-3 h-3 bg-black"></div>
                <div class="w-3 h-3 bg-black"></div>
              </div>
            </div>
          </div>
          <div class="bg-white border-4 border-black p-4 shadow-hard-sm hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all cursor-grab active:cursor-grabbing">
            <div class="flex justify-between items-center">
              <span class="font-bold text-sm md:text-base">
                EPISODE_02
              </span>
              <div class="flex gap-1">
                <div class="w-3 h-3 bg-black"></div>
                <div class="w-3 h-3 bg-black"></div>
              </div>
            </div>
          </div>
          <div class="bg-white border-4 border-black p-4 shadow-hard-sm hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all cursor-grab active:cursor-grabbing">
            <div class="flex justify-between items-center">
              <span class="font-bold text-sm md:text-base">
                EPISODE_03
              </span>
              <div class="flex gap-1">
                <div class="w-3 h-3 bg-black"></div>
                <div class="w-3 h-3 bg-black"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Right: Automated Schedule */}
      <div class="bg-pastel-pink p-6 relative overflow-hidden">
        <div class="absolute top-0 left-0 bg-black text-white px-2 py-1 text-xs font-bold font-mono">
          AUTO_PILOT
        </div>
        <div class="flex items-center gap-2 mb-6 border-b-4 border-black pb-4">
          <div class="w-6 h-6 bg-black animate-pulse"></div>
          <span class="font-black text-lg md:text-xl">
            SCHEDULE_DAEMON
          </span>
        </div>

        <div class="space-y-0">
          <div class="flex border-4 border-black bg-white mb-[-4px] relative z-10">
            <div class="bg-black text-white p-2 font-bold w-16 md:w-20 flex items-center justify-center text-xs md:text-sm">
              20:00
            </div>
            <div class="p-2 font-bold flex-1 bg-pastel-yellow text-xs md:text-sm">
              THE_OFFICE
            </div>
          </div>
          <div class="flex border-4 border-black bg-white mb-[-4px] relative z-20 ml-4">
            <div class="bg-black text-white p-2 font-bold w-16 md:w-20 flex items-center justify-center text-xs md:text-sm">
              20:30
            </div>
            <div class="p-2 font-bold flex-1 bg-pastel-blue text-xs md:text-sm">
              PARKS_REC
            </div>
          </div>
          <div class="flex border-4 border-black bg-white relative z-30 ml-8">
            <div class="bg-black text-white p-2 font-bold w-16 md:w-20 flex items-center justify-center text-xs md:text-sm">
              21:00
            </div>
            <div class="p-2 font-bold flex-1 bg-pastel-mint text-xs md:text-sm">
              BREAKING_BAD S1E2
            </div>
          </div>
        </div>

        {/* Decorative Barcode */}
        <div class="absolute bottom-4 right-4 w-32 h-12 bg-barcode opacity-50"></div>
      </div>
    </div>
  </div>
</section>

<script>
  function scrollToSection(sectionId) {
    const element = document.getElementById(sectionId);
    if (element) {
      element.scrollIntoView({
        behavior: 'smooth',
      });
    }
  }

  // Add click handler for "How It Works" button
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('how-it-works-btn');
    if (btn) {
      btn.addEventListener('click', () => {
        scrollToSection('how-it-works');
      });
    }
  });
</script>

<style>
  .shadow-hard {
    box-shadow: 8px 8px 0 0 black;
  }

  .shadow-hard-sm {
    box-shadow: 4px 4px 0 0 black;
  }
</style>
